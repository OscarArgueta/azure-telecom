<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Azure Laboratorio No. 3</title>
  </head>
  <script type="text/javascript">
    const azureFunctionCall = async () => {
      console.log("azureFunctionCall...");
      const url ='https://groupnumber1.azurewebsites.net/api/HttpTrigger1?code=C58ye1wIe8mk0u2r9U/Tgdmy1L5ghP2rgqCjwWGn/EfrA3yXVmXfGA==&name=Oscar'
      const resp = await fetch(url, {
        method: 'GET',
        headers: {
          'Content-Type': 'text/plain',
          'Access-Control-Allow-Origin': '*',
          'Access-Control-Allow-Headers': '*'
        }
      });
      const result = await resp.json();
      console.log('==============');
      console.log(`1-resp : [${resp.text()}]`);
      console.log(`1-result : [${result[0]}]`);
      console.log('==============');
    }

    function sendAzure() {
      console.log("sendAzure ...");
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
          // Typical action to be performed when the document is ready:
          var response = xhttp.responseText;
          console.log("ok"+response);
        }
      };
      var url ='https://groupnumber1.azurewebsites.net/api/HttpTrigger1?code=C58ye1wIe8mk0u2r9U/Tgdmy1L5ghP2rgqCjwWGn/EfrA3yXVmXfGA==&name=Oscar';
      xhttp.open("GET", url, true);
      xhttp.send();
    }

  </script>
  <body>
    <button type="button" name="button" onclick="azureFunctionCall()"> Azure </button>
  </body>
</html>
